!function(t,i){t.vs=t.vs||{},t.vs.TileMenu=function(t,s){this.parentEl=t||i("body"),this.el=null,this.className=s.className,this.trigger=i(s.trigger),this.buttons=s.buttons||[],this.closeOnClick=s.closeOnClick||!1,this.onOutsideClick=s.onOutsideClick||!1,this.buttonsEl=null,this.overlayEl=null},t.vs.TileMenu.boot=function(){i(".tile-menu[data-tile-menu]").each(function(s,e){i(this).data("__TILE_MENU__")||i(this).data("__TILE_MENU__",new t.vs.TileMenu(this))})},t.vs.TileMenu.prototype={render:function(){var t=Math.ceil(this.buttons.length/2),s=this;rowHeight=100/t,mod=this.buttons.length%2,str="";for(var e=0;e<this.buttons.length-mod;e+=2)str+='<div class="tile-menu-row"><div class="tile-menu-item" index="'+e+'""><div class="'+this.buttons[e].settings.className+'">'+this.buttons[e].label+'</div></div><div class="tile-menu-item"  index="'+Math.min(this.buttons.length-mod,e+1)+'"><div class="'+this.buttons[Math.min(this.buttons.length-mod,e+1)].settings.className+'">'+this.buttons[Math.min(this.buttons.length-mod,e+1)].label+"</div></div></div>";mod&&(str+='<div class="tile-menu-row"><div class="tile-menu-item" index="'+(this.buttons.length-1)+'" style="width:100%;"><div class="'+this.buttons[this.buttons.length-1].settings.className+'">'+this.buttons[this.buttons.length-1].label+"</div></div></div></div>"),this.el=i('<div class="tile-menu-container '+this.className+'"><div class="overlay"></div>'+str+"</div>").appendTo(this.parentEl),this.el.find(".tile-menu-row").css("height",rowHeight+"%"),this.buttonsEl=this.el.find(".tile-menu-item"),this.overlayEl=this.el.find(".overlay"),this.buttonsEl.on("click",function(t){s.onItemClick(parseInt(i(this).attr("index"))),t.stopPropagation()}),this.trigger.on("click",i.proxy(this.onTriggerClick,this)),this.onOutsideClick&&this.overlayEl.on("click",i.proxy(this.hide,this)),i(window).on("resize",i.proxy(this.onResize,this)),i(window).trigger("resize")},onResize:function(t){this.el.css({width:"80%",height:i(window).height()-100})},hide:function(t){this.el.removeClass("active")},show:function(){this.el.addClass("active")},onTriggerClick:function(){this.el.toggleClass("active")},onItemClick:function(t){var i=this.buttons[t].onClick;i&&i(this.el,this.parentEl);this.closeOnClick&&this.hide()}},i.fn.TileMenu=function(s){return this.each(function(){i(this).data("__TILE_MENU__",(p=new t.vs.TileMenu(i(this),s)).render())})},i(document).ready(function(){t.vs.TileMenu.boot()})}(window,jQuery);